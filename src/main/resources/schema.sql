CREATE TABLE IF NOT EXISTS Company(
  id INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,
  version INTEGER NOT NULL,
  name VARCHAR(30) NOT NULL,
  full_name VARCHAR(50),
  inn INTEGER NOT NULL,
  kpp INTEGER NOT NULL,
  address VARCHAR(255) NOT NULL,
  phone VARCHAR(20),
  is_active TINYINT(1) NOT NULL
);

CREATE TABLE IF NOT EXISTS Office(
  id INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,
  version INTEGER NOT NULL,
  com_id INTEGER NOT NULL,
  name VARCHAR(30) NOT NULL,
  address VARCHAR(255) NOT NULL,
  phone VARCHAR(20),
  is_active TINYINT(1) NOT NULL
);

CREATE TABLE IF NOT EXISTS User(
    id INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,
    version INTEGER NOT NULL,
    office_id INTEGER NOT NULL,
    first_name VARCHAR(50) NOT NULL,
    second_name VARCHAR(50) NOT NULL,
    middle_name VARCHAR(50),
    position VARCHAR(50) NOT NULL,
    doc_code INTEGER ,
    doc_name VARCHAR(50) ,
    doc_number INTEGER,
    doc_date DATE,
    citizenship_name VARCHAR(50),
    citizenship_code INTEGER,
    is_identified TINYINT(1) NOT NULL
);

--CREATE INDEX IX_OFFICE_COM_ID ON OFFICE(com_id);
--ALTER TABLE OFFICE ADD FOREIGN KEY (com_id) REFERENCES COMPANY(id) ON DELETE CASCADE;

--CREATE INDEX IX_USER_OFFICE_ID ON USER(office_id);
--ALTER TABLE USER ADD FOREIGN KEY (office_id) REFERENCES OFFICE(id);